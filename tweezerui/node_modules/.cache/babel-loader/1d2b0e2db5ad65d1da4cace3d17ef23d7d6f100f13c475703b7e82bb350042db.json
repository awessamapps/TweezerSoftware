{"ast":null,"code":"var _jsxFileName = \"F:\\\\tweezerui\\\\src\\\\components\\\\CameraPreview\\\\CameraPreview.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowDown, faCog } from '@fortawesome/free-solid-svg-icons';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CameraPreview() {\n  _s();\n  // toast\n\n  // booleans\n  const [isPreviewCam1, setIsPreviewCam1] = useState(false);\n  const [isPreviewCam2, setIsPreviewCam2] = useState(false);\n  const [isSwitchCam1Active, setIsSwitchCam1Active] = useState(true);\n  const [isSwitchCam2Active, setIsSwitchCam2Active] = useState(true);\n  const [isStreamingCam1, setIsStreamingCam1] = useState(false);\n  const [isStreamingCam2, setIsStreamingCam2] = useState(false);\n\n  // modals booleans\n  const [showCam1ModalSettings, setshowCam1ModalSettings] = useState(false);\n  const [showCam2ModalSettings, setshowCam2ModalSettings] = useState(false);\n\n  // properties of streaming\n  const [fps1, setFps1] = useState(0);\n  const [rxSpeed1, setRxSpeed1] = useState(0);\n  const [fps2, setFps2] = useState(0);\n  const [rxSpeed2, setRxSpeed2] = useState(0);\n\n  // canvas\n  const [canvasSize, setCanvasSize] = useState({\n    width: 0,\n    height: 0\n  });\n  const canvasRef = useRef(null);\n\n  // modals handlers\n  const handleCloseCam1Modal = () => setshowCam1ModalSettings(false);\n  const handleshowCam1ModalSettings = () => setshowCam1ModalSettings(true);\n\n  // modals handlers\n  const handleCloseCam2Modal = () => setshowCam2ModalSettings(false);\n  const handleshowCam2ModalSettings = () => setshowCam2ModalSettings(true);\n  const startPreviewCam1 = () => {\n    // toast.info('ðŸ¦„ Wow so easy!', {\n    //   position: \"bottom-right\",\n    //   autoClose: 2000,\n    //   hideProgressBar: false,\n    //   closeOnClick: true,\n    //   pauseOnHover: true,\n    //   draggable: true,\n    //   progress: undefined,\n    //   theme: \"dark\",\n    //   transition: Slide,\n    //   });\n\n    let toastId = toast.loading(\"Please wait...\", {\n      position: \"bottom-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      theme: \"dark\",\n      transition: Slide\n    });\n    setIsPreviewCam1(!isPreviewCam1);\n    setIsSwitchCam1Active(false);\n\n    // simulate ajax calls\n\n    setTimeout(() => {\n      setIsSwitchCam1Active(true);\n    }, 2000);\n  };\n  const startPreviewCam2 = () => {\n    setIsPreviewCam2(!isPreviewCam2);\n    setIsSwitchCam2Active(false);\n\n    // simulate ajax calls\n\n    setTimeout(() => {\n      setIsSwitchCam2Active(true);\n    }, 2000);\n  };\n  const streamCam1 = () => {};\n  const streamCam2 = () => {};\n  useEffect(() => {\n    if (canvasRef.current) {\n      setCanvasSize({\n        width: canvasRef.current.offsetWidth,\n        height: canvasRef.current.offsetHeight\n      });\n    }\n  }, []);\n\n  // useEffect(() => {\n\n  //   let frameCount = 0;\n  //   let dataCount = 0;\n  //   let firstImageReceived = false;\n  //   const websocket = new WebSocket('ws://10.0.63.153:3010/ws');\n  //   websocket.binaryType = 'blob';  // Since the images can be in binary format\n\n  //   const updateFpsAndSpeed = () => {\n  //     setFps(frameCount);\n  //     setRxSpeed(dataCount / 1024);  // Speed in KB/s\n  //     frameCount = 0;\n  //     dataCount = 0;\n  //   };\n\n  //   const intervalId = setInterval(updateFpsAndSpeed, 1000); // Update FPS and speed every second\n\n  //   const img = new Image();\n  //   img.onload = () => {\n  //     const canvas = canvasRef.current;\n  //     const ctx = canvas.getContext('2d');\n  //     if (!firstImageReceived) {\n  //       canvas.width = img.width;\n  //       canvas.height = img.height;\n  //       firstImageReceived = true;\n  //     }\n  //     // Draw a scaled down version of the image\n  //     ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, canvas.width, canvas.height);\n  //     URL.revokeObjectURL(img.src);\n  //   };\n\n  //   websocket.onmessage = (event) => {\n  //     const url = URL.createObjectURL(event.data);\n  //     img.src = url;  // Just change the source of the Image object\n  //     frameCount++;\n  //     dataCount += event.data.size;  // Add the size of the received data\n  //   };\n\n  //   websocket.onopen = () => console.log('Connected to server');\n  //   websocket.onerror = (error) => console.error('WebSocket error:', error);\n  //   websocket.onclose = () => {\n  //     console.log('Disconnected from server');\n  //     clearInterval(intervalId);\n  //   };\n\n  //   return () => {\n  //     websocket.close();\n  //     clearInterval(intervalId);\n  //   };\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-row justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center  justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"me-3 fs-4 fw-bold \",\n          style: {\n            color: !isSwitchCam1Active || !isSwitchCam2Active ? 'gray' : 'inherit'\n          },\n          children: \"Cam 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-check form-switch fs-5\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-check-input\",\n            type: \"checkbox\",\n            role: \"switch\",\n            disabled: !isSwitchCam1Active || !isSwitchCam2Active,\n            checked: isPreviewCam1,\n            onChange: () => startPreviewCam1()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary form-check\",\n          role: \"status\",\n          style: {\n            opacity: isSwitchCam1Active ? 0 : 1,\n            // Show spinner when input is disabled\n            marginLeft: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex  justify-content-center\",\n          style: {\n            marginLeft: '30px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between \",\n            children: [\"     \", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: handleshowCam1ModalSettings,\n                disabled: !isPreviewCam1 || !isSwitchCam1Active,\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faCog\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: streamCam1,\n                disabled: !isPreviewCam1 || !isSwitchCam1Active,\n                children: \"Stream Cam 1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), isStreamingCam1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex  justify-content-center\",\n          style: {\n            marginLeft: '30px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"FPS: \", fps1.toFixed(2), \" | Rx Speed: \", (rxSpeed1 / 1024).toFixed(2), \" Mb/s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center justify-content-center align-items-center \",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"me-3 fs-4 fw-bold \",\n          style: {\n            color: !isSwitchCam1Active || !isSwitchCam2Active ? 'gray' : 'inherit'\n          },\n          children: \"Cam 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-check form-switch fs-5\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-check-input\",\n            type: \"checkbox\",\n            role: \"switch\",\n            disabled: !isSwitchCam1Active || !isSwitchCam2Active,\n            checked: isPreviewCam2,\n            onChange: () => startPreviewCam2()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary form-check\",\n          role: \"status\",\n          style: {\n            opacity: isSwitchCam2Active ? 0 : 1,\n            // Show spinner when input is disabled\n            marginLeft: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex  justify-content-center\",\n          style: {\n            marginLeft: '30px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between \",\n            children: [\"     \", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: handleshowCam2ModalSettings,\n                disabled: !isPreviewCam2 || !isSwitchCam2Active,\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faCog\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: streamCam2,\n                disabled: !isPreviewCam2 || !isSwitchCam2Active,\n                children: \"Stream Cam 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), isStreamingCam2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex  justify-content-center\",\n          style: {\n            marginLeft: '30px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"FPS: \", fps2.toFixed(2), \" | Rx Speed: \", (rxSpeed2 / 1024).toFixed(2), \" Mb/s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        height: '100%',\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        style: {\n          width: '100%',\n          height: '100%',\n          backgroundColor: 'black'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showCam1ModalSettings,\n      onHide: handleCloseCam1Modal,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Stream from Camera\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Camera ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              placeholder: \"Enter camera ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Target Streaming FPS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              placeholder: \"Enter FPS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Image Format\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Compressed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Original\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleCloseCam1Modal,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleCloseCam1Modal,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showCam2ModalSettings,\n      onHide: handleCloseCam2Modal,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Configuration for Camera 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Camera ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              placeholder: \"Enter camera ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Target Streaming FPS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              placeholder: \"Enter FPS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Image Format\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Compressed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Original\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleCloseCam2Modal,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleCloseCam2Modal,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n}\n_s(CameraPreview, \"7fY2h8JcpopEEoYdYOco0dW7m70=\");\n_c = CameraPreview;\nexport default CameraPreview;\nvar _c;\n$RefreshReg$(_c, \"CameraPreview\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Modal","Button","Form","FontAwesomeIcon","faArrowDown","faCog","ToastContainer","toast","jsxDEV","_jsxDEV","CameraPreview","_s","isPreviewCam1","setIsPreviewCam1","isPreviewCam2","setIsPreviewCam2","isSwitchCam1Active","setIsSwitchCam1Active","isSwitchCam2Active","setIsSwitchCam2Active","isStreamingCam1","setIsStreamingCam1","isStreamingCam2","setIsStreamingCam2","showCam1ModalSettings","setshowCam1ModalSettings","showCam2ModalSettings","setshowCam2ModalSettings","fps1","setFps1","rxSpeed1","setRxSpeed1","fps2","setFps2","rxSpeed2","setRxSpeed2","canvasSize","setCanvasSize","width","height","canvasRef","handleCloseCam1Modal","handleshowCam1ModalSettings","handleCloseCam2Modal","handleshowCam2ModalSettings","startPreviewCam1","toastId","loading","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","transition","Slide","setTimeout","startPreviewCam2","streamCam1","streamCam2","current","offsetWidth","offsetHeight","className","children","style","color","fileName","_jsxFileName","lineNumber","columnNumber","type","role","disabled","checked","onChange","opacity","marginLeft","variant","onClick","icon","toFixed","marginTop","ref","backgroundColor","show","onHide","Header","closeButton","Title","Body","Group","Label","Control","placeholder","Select","Footer","_c","$RefreshReg$"],"sources":["F:/tweezerui/src/components/CameraPreview/CameraPreview.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowDown, faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\n\r\nfunction CameraPreview() {\r\n\r\n\r\n  // toast\r\n  \r\n\r\n \r\n\r\n  // booleans\r\n  const [isPreviewCam1, setIsPreviewCam1] = useState(false);\r\n  const [isPreviewCam2, setIsPreviewCam2] = useState(false);\r\n\r\n  const [isSwitchCam1Active, setIsSwitchCam1Active] = useState(true);\r\n  const [isSwitchCam2Active, setIsSwitchCam2Active] = useState(true);\r\n\r\n  const [isStreamingCam1, setIsStreamingCam1] = useState(false);\r\n  const [isStreamingCam2, setIsStreamingCam2] = useState(false);\r\n\r\n  // modals booleans\r\n  const [showCam1ModalSettings, setshowCam1ModalSettings] = useState(false);\r\n  const [showCam2ModalSettings, setshowCam2ModalSettings] = useState(false);\r\n\r\n\r\n  // properties of streaming\r\n  const [fps1, setFps1] = useState(0);\r\n  const [rxSpeed1, setRxSpeed1] = useState(0);\r\n  const [fps2, setFps2] = useState(0);\r\n  const [rxSpeed2, setRxSpeed2] = useState(0);\r\n\r\n  // canvas\r\n  const [canvasSize, setCanvasSize] = useState({ width: 0, height: 0 });\r\n  const canvasRef = useRef(null);\r\n\r\n\r\n\r\n  // modals handlers\r\n  const handleCloseCam1Modal = () => setshowCam1ModalSettings(false);\r\n  const handleshowCam1ModalSettings = () => setshowCam1ModalSettings(true);\r\n\r\n  // modals handlers\r\n  const handleCloseCam2Modal = () => setshowCam2ModalSettings(false);\r\n  const handleshowCam2ModalSettings = () => setshowCam2ModalSettings(true);\r\n\r\n\r\n\r\n  const startPreviewCam1 = () => {\r\n    // toast.info('ðŸ¦„ Wow so easy!', {\r\n    //   position: \"bottom-right\",\r\n    //   autoClose: 2000,\r\n    //   hideProgressBar: false,\r\n    //   closeOnClick: true,\r\n    //   pauseOnHover: true,\r\n    //   draggable: true,\r\n    //   progress: undefined,\r\n    //   theme: \"dark\",\r\n    //   transition: Slide,\r\n    //   });\r\n\r\n\r\n    let toastId = toast.loading(\"Please wait...\", {\r\n        position: \"bottom-right\",\r\n        autoClose: 2000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"dark\",\r\n        transition: Slide,\r\n        }\r\n    );\r\n\r\n\r\n    setIsPreviewCam1(!isPreviewCam1);\r\n    setIsSwitchCam1Active(false);\r\n\r\n    // simulate ajax calls\r\n\r\n    setTimeout(() => {\r\n      setIsSwitchCam1Active(true);\r\n    }, 2000);\r\n  };\r\n\r\n  const startPreviewCam2 = () => {\r\n\r\n    setIsPreviewCam2(!isPreviewCam2);\r\n    setIsSwitchCam2Active(false);\r\n\r\n    // simulate ajax calls\r\n\r\n    setTimeout(() => {\r\n      setIsSwitchCam2Active(true);\r\n\r\n    }, 2000);\r\n\r\n  };\r\n\r\n\r\n\r\n  const streamCam1 = () => {\r\n\r\n  };\r\n\r\n  const streamCam2 = () => {\r\n\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (canvasRef.current) {\r\n      setCanvasSize({\r\n        width: canvasRef.current.offsetWidth,\r\n        height: canvasRef.current.offsetHeight,\r\n      });\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n  // useEffect(() => {\r\n\r\n  //   let frameCount = 0;\r\n  //   let dataCount = 0;\r\n  //   let firstImageReceived = false;\r\n  //   const websocket = new WebSocket('ws://10.0.63.153:3010/ws');\r\n  //   websocket.binaryType = 'blob';  // Since the images can be in binary format\r\n\r\n  //   const updateFpsAndSpeed = () => {\r\n  //     setFps(frameCount);\r\n  //     setRxSpeed(dataCount / 1024);  // Speed in KB/s\r\n  //     frameCount = 0;\r\n  //     dataCount = 0;\r\n  //   };\r\n\r\n  //   const intervalId = setInterval(updateFpsAndSpeed, 1000); // Update FPS and speed every second\r\n\r\n  //   const img = new Image();\r\n  //   img.onload = () => {\r\n  //     const canvas = canvasRef.current;\r\n  //     const ctx = canvas.getContext('2d');\r\n  //     if (!firstImageReceived) {\r\n  //       canvas.width = img.width;\r\n  //       canvas.height = img.height;\r\n  //       firstImageReceived = true;\r\n  //     }\r\n  //     // Draw a scaled down version of the image\r\n  //     ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, canvas.width, canvas.height);\r\n  //     URL.revokeObjectURL(img.src);\r\n  //   };\r\n\r\n  //   websocket.onmessage = (event) => {\r\n  //     const url = URL.createObjectURL(event.data);\r\n  //     img.src = url;  // Just change the source of the Image object\r\n  //     frameCount++;\r\n  //     dataCount += event.data.size;  // Add the size of the received data\r\n  //   };\r\n\r\n  //   websocket.onopen = () => console.log('Connected to server');\r\n  //   websocket.onerror = (error) => console.error('WebSocket error:', error);\r\n  //   websocket.onclose = () => {\r\n  //     console.log('Disconnected from server');\r\n  //     clearInterval(intervalId);\r\n  //   };\r\n\r\n  //   return () => {\r\n  //     websocket.close();\r\n  //     clearInterval(intervalId);\r\n  //   };\r\n  // }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"p-3\">\r\n        \r\n      <div className=\"d-flex flex-row justify-content-between\">\r\n\r\n\r\n        <div className=\"d-flex justify-content-center  justify-content-center align-items-center\">\r\n          <span className=\"me-3 fs-4 fw-bold \" style={{ color: (!isSwitchCam1Active || !isSwitchCam2Active) ? 'gray' : 'inherit' }}>\r\n            Cam 1\r\n          </span>\r\n\r\n          <div className=\"form-check form-switch fs-5\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              type=\"checkbox\"\r\n              role=\"switch\"\r\n              disabled={!isSwitchCam1Active || !isSwitchCam2Active}\r\n              checked={isPreviewCam1}\r\n              onChange={() => startPreviewCam1()}\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            className=\"spinner-border text-primary form-check\"\r\n            role=\"status\"\r\n            style={{\r\n              opacity: isSwitchCam1Active ? 0 : 1, // Show spinner when input is disabled\r\n              marginLeft: '10px'\r\n            }}\r\n          >\r\n\r\n\r\n          </div>\r\n\r\n\r\n          <div className=\"d-flex  justify-content-center\" style={{ marginLeft: '30px' }}>\r\n\r\n            <div className=\"d-flex justify-content-between \">     <div className=\"btn-group\">\r\n              <Button variant=\"primary\" onClick={handleshowCam1ModalSettings} disabled={!isPreviewCam1 || !isSwitchCam1Active}>\r\n                <FontAwesomeIcon icon={faCog} />\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={streamCam1} disabled={!isPreviewCam1 || !isSwitchCam1Active}>\r\n                Stream Cam 1\r\n              </Button>\r\n            </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          {isStreamingCam1 && (\r\n            <div className=\"d-flex  justify-content-center\" style={{ marginLeft: '30px' }}>\r\n              <div>FPS: {(fps1).toFixed(2)} | Rx Speed: {(rxSpeed1 / 1024).toFixed(2)} Mb/s</div>\r\n\r\n            </div>\r\n          )}\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <div className=\"d-flex justify-content-center justify-content-center align-items-center \">\r\n          <span className=\"me-3 fs-4 fw-bold \" style={{ color: (!isSwitchCam1Active || !isSwitchCam2Active) ? 'gray' : 'inherit' }}>\r\n            Cam 2\r\n          </span>\r\n\r\n          <div className=\"form-check form-switch fs-5\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              type=\"checkbox\"\r\n              role=\"switch\"\r\n              disabled={!isSwitchCam1Active || !isSwitchCam2Active}\r\n              checked={isPreviewCam2}\r\n              onChange={() => startPreviewCam2()}\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            className=\"spinner-border text-primary form-check\"\r\n            role=\"status\"\r\n            style={{\r\n              opacity: isSwitchCam2Active ? 0 : 1, // Show spinner when input is disabled\r\n              marginLeft: '10px'\r\n            }}\r\n          >\r\n\r\n          </div>\r\n\r\n\r\n          <div className=\"d-flex  justify-content-center\" style={{ marginLeft: '30px' }}>\r\n\r\n            <div className=\"d-flex justify-content-between \">     <div className=\"btn-group\">\r\n              <Button variant=\"primary\" onClick={handleshowCam2ModalSettings} disabled={!isPreviewCam2 || !isSwitchCam2Active}>\r\n                <FontAwesomeIcon icon={faCog} />\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={streamCam2} disabled={!isPreviewCam2 || !isSwitchCam2Active}>\r\n                Stream Cam 2\r\n              </Button>\r\n            </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n\r\n          {isStreamingCam2 && (\r\n            <div className=\"d-flex  justify-content-center\" style={{ marginLeft: '30px' }}>\r\n              <div>FPS: {(fps2).toFixed(2)} | Rx Speed: {(rxSpeed2 / 1024).toFixed(2)} Mb/s</div>\r\n\r\n            </div>\r\n          )}\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n      <div style={{ width: '100%', height: '100%', marginTop: '20px' }}>\r\n        <canvas ref={canvasRef} style={{ width: '100%', height: '100%', backgroundColor: 'black' }}></canvas>\r\n      </div>\r\n\r\n      <Modal show={showCam1ModalSettings} onHide={handleCloseCam1Modal}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Stream from Camera</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Camera ID</Form.Label>\r\n              <Form.Control placeholder=\"Enter camera ID\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Target Streaming FPS</Form.Label>\r\n              <Form.Control type=\"number\" placeholder=\"Enter FPS\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Image Format</Form.Label>\r\n              <Form.Select>\r\n                <option>Compressed</option>\r\n                <option>Original</option>\r\n              </Form.Select>\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleCloseCam1Modal}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleCloseCam1Modal}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n\r\n      <Modal show={showCam2ModalSettings} onHide={handleCloseCam2Modal}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Configuration for Camera 2</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Camera ID</Form.Label>\r\n              <Form.Control placeholder=\"Enter camera ID\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Target Streaming FPS</Form.Label>\r\n              <Form.Control type=\"number\" placeholder=\"Enter FPS\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Image Format</Form.Label>\r\n              <Form.Select>\r\n                <option>Compressed</option>\r\n                <option>Original</option>\r\n              </Form.Select>\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleCloseCam2Modal}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleCloseCam2Modal}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CameraPreview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}